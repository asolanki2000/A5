<%- include('partials/navbar', { page: '' }) %>

<div class="container mx-auto py-8">
  <h1 class="text-4xl font-bold text-center mb-8">Edit Project: <%= project.title %></h1>

  <form action="/solutions/editProject" method="POST" class="max-w-xl mx-auto space-y-6">
    <input type="hidden" name="id" value="<%= project.id %>" />

    <div>
      <label class="label">Title</label>
      <input required type="text" name="title" value="<%= project.title %>" class="input input-bordered w-full" />
    </div>

    <div>
      <label class="label">Feature Image URL</label>
      <input required type="url" name="feature_img_url" value="<%= project.feature_img_url %>" class="input input-bordered w-full" />
    </div>

    <div>
      <label class="label">Sector</label>
      <select name="sector_id" required class="select select-bordered w-full">
        <% sectors.forEach(sector => { %>
          <option value="<%= sector.id %>" <%= project.sector_id == sector.id ? "selected" : "" %>>
            <%= sector.sector_name %>
          </option>
        <% }) %>
      </select>
    </div>

    <div>
      <label class="label">Intro (Short)</label>
      <textarea required name="intro_short" class="textarea textarea-bordered w-full"><%= project.intro_short %></textarea>
    </div>

    <div>
      <label class="label">Summary (Short)</label>
      <textarea required name="summary_short" class="textarea textarea-bordered w-full"><%= project.summary_short %></textarea>
    </div>

    <div>
      <label class="label">Impact</label>
      <textarea required name="impact" class="textarea textarea-bordered w-full"><%= project.impact %></textarea>
    </div>

    <div>
      <label class="label">Original Source URL</label>
      <input required type="url" name="original_source_url" value="<%= project.original_source_url %>" class="input input-bordered w-full" />
    </div>

    <div class="flex justify-between items-center">
      <button type="submit" class="btn btn-success">Update Project</button>
      <a href="/solutions/deleteProject/<%= project.id %>" class="btn btn-error">Delete Project</a>
    </div>
  </form>
</div>
